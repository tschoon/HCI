<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="icon.svg" type="image/x-icon">
    <script src="db.js"></script>
    <script src="scripts.js"></script>
    <title>Study Group Tinda</title>
</head>

<style>
    #main{
        width: 100%;
    }

    .profile-pic{
        width: 40%;
        margin-top: 10px;
        padding: 5px;
    }

    .box{
        width: 40%;
        margin-top: 10px;
        padding: 5px;
        border: 1px solid white;
    }

    .smallBox{
        width: 96%;
        min-height: 200px;
        margin: 2%;
        border: 1px solid white;
        position: relative;
    }
</style>

<body>
    <div class="flex-container">
        <!-- navbar -->
        <div class="navbar desktop-12-cols phone-12-cols" id="navbar"></div>

        <!-- Content -->
        <div class="desktop-12-cols phone-12-cols" id="main">
            <h1 id="title">Profil</h1>
            <div class="profile-pic" style=float:right;margin-right:5%>
                <img id="profile-picture" src="emil.jpg" width="100%">
            </div>
            <div>
                <inline id=name>Name: Emil</inline>
                <input id=tname type="text" style=display:none />
                </br>
                <inline id=nachname>Nachname: Müller</inline>
                <input id=tnachname type="text" style=display:none />
                </br>
                <inline id=bname>Benutzername: Emil</inline>
                <input id=tbname type="text" style=display:none />
                </br>
                <button id="changeName" style=float:left;margin-top:10px type="button" onclick=changeName()>Namen ändern</button>
                <button id="save" style=margin:10px;display:none type="button" onclick=save()>speichern</button>
            </div>
            <div class="box" style="margin-top: 50px;">
                    Interessen
                    <div class="smallBox">
                        <div id="interest1" style=margin:5px>Lineare Algebra</div>
                        <div id="interest2" style=margin:5px;margin-bottom:1px>Programmieren</div>
                        <div id="neueInteresse" style=margin:5px;margin-top:0px;line-height:25px></div>
                        <input id="newInterestName" style=margin:5px type="text" placeholder="neue Interesse..."/>
                        <input id="newInterestButton" style="margin-top:5px" type="button" value="hinzufügen" onclick="addInterest()"/>
                    </div>
            </div>
        </div>

        <!-- footer -->
        <div class="footer desktop-12-cols phone-12-cols" id="footer"></div>

    </div>
    <!-- script to initialize site -->
    <script>
        init([ELEMENT.NAVBAR], SITE.PROFILE);

        fake = Number.parseInt(new URL(window.location.href).searchParams.get("fake"));
        if(fake === 1) {
            document.getElementById("changeName").style = "display: none;"
            document.getElementById("newInterestName").style = "display: none;"
            document.getElementById("newInterestButton").style = "display: none;"

            document.getElementById("name").innerHTML = "Name: Bob";
            document.getElementById("nachname").innerHTML = "Nachname: Williamson";
            document.getElementById("bname").innerHTML = "Benutzername: B-Dog";

            document.getElementById("interest1").innerHTML = "Country Music";
            document.getElementById("interest2").style = "display: none;"

            document.getElementById("profile-picture").src = "bob.jpg"
        }

        function changeName(){
          document.getElementById("save").style.display = "inline";
          document.getElementById("tname").value = document.getElementById("name").innerHTML.slice(6);
          document.getElementById("tnachname").value = document.getElementById("nachname").innerHTML.slice(10);
          document.getElementById("tbname").value = document.getElementById("bname").innerHTML.slice(14);
          document.getElementById("tname").style.display = "inline";
          document.getElementById("tnachname").style.display = "inline";
          document.getElementById("tbname").style.display = "inline";
        }
        function save(){
          document.getElementById("name").innerHTML = "Name: " + document.getElementById("tname").value;
          document.getElementById("nachname").innerHTML = "Nachname: " + document.getElementById("tnachname").value;
          document.getElementById("bname").innerHTML = "Benutzername: " + document.getElementById("tbname").value;
          document.getElementById("save").style.display = "none";
          document.getElementById("tname").style.display = "none";
          document.getElementById("tnachname").style.display = "none";
          document.getElementById("tbname").style.display = "none";
        }
        function addInterest(){
          var newInterest = document.createElement("div");
          newInterest.innerHTML = document.getElementById("newInterestName").value;
          document.getElementById("neueInteresse").appendChild(newInterest);
        }
    </script>
</body>

</html>
